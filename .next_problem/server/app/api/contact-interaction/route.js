"use strict";(()=>{var e={};e.id=774,e.ids=[774],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},68167:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>I,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{POST:()=>p});var o=r(49303),n=r(88716),i=r(60670),a=r(87070),c=r(65655);async function p(e){try{let{vendor_id:t,interaction_type:r,interaction_value:s,user_agent:o,referrer:n}=await e.json();if(!t||!r)return a.NextResponse.json({error:"vendor_id and interaction_type are required"},{status:400});let i=(0,c.h)(),p=e.headers.get("x-forwarded-for"),u=p?p.split(",")[0]:e.headers.get("x-real-ip")||"unknown",{data:l,error:d}=await i.from("contact_interactions").insert({vendor_id:t,interaction_type:r,interaction_value:s,user_ip:u,user_agent:o,referrer:n}).select().single();if(d)return console.error("Error inserting contact interaction:",d),a.NextResponse.json({error:"Failed to track contact interaction"},{status:500});return a.NextResponse.json({success:!0,data:l})}catch(e){return console.error("Contact interaction API error:",e),a.NextResponse.json({error:"Internal server error"},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/contact-interaction/route",pathname:"/api/contact-interaction",filename:"route",bundlePath:"app/api/contact-interaction/route"},resolvedPagePath:"/Users/ayodelebabafemi/Projects/easybuilder/src/app/api/contact-interaction/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:I}=u,m="/api/contact-interaction/route";function x(){return(0,i.patchFetch)({serverHooks:I,staticGenerationAsyncStorage:d})}},65655:(e,t,r)=>{r.d(t,{fU:()=>i,h:()=>c,yJ:()=>a});var s=r(67721),o=r(43974),n=r(71615);let i=()=>{let e=(0,n.cookies)();return(0,s.createServerClient)("https://ypukukqmhdittcmzollb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwdWt1a3FtaGRpdHRjbXpvbGxiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1OTE2MjMsImV4cCI6MjA3NzE2NzYyM30.B-RhZ1eo_cECaFV0GoUzwnKRszKmXHX-5n7CvXbgjXA",{cookies:{get:t=>e.get(t)?.value,set(t,r,s){e.set({name:t,value:r,...s})},remove(t,r){e.set({name:t,value:"",...r})}}})},a=()=>(0,o.eI)("https://ypukukqmhdittcmzollb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwdWt1a3FtaGRpdHRjbXpvbGxiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1OTE2MjMsImV4cCI6MjA3NzE2NzYyM30.B-RhZ1eo_cECaFV0GoUzwnKRszKmXHX-5n7CvXbgjXA"),c=()=>{if(!process.env.SUPABASE_SERVICE_ROLE_KEY)throw Error("SUPABASE_SERVICE_ROLE_KEY is required for service operations");return(0,o.eI)("https://ypukukqmhdittcmzollb.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,355,972],()=>r(68167));module.exports=s})();