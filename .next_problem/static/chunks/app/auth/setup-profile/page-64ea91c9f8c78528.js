(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6146],{3913:function(e,r,s){Promise.resolve().then(s.t.bind(s,2972,23)),Promise.resolve().then(s.bind(s,1685))},9202:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9763).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},3774:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4413:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9763).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},2381:function(e,r,s){"use strict";s.d(r,{z:function(){return l}});var t=s(7437),a=s(2265),n=s(535),i=s(3448);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover shadow-modern hover:shadow-modern-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-modern hover:shadow-modern-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-modern",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-hover shadow-sm hover:shadow-modern",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90 shadow-modern hover:shadow-modern-lg",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-modern hover:shadow-modern-lg",gradient:"gradient-primary text-white shadow-modern hover:shadow-modern-lg hover:scale-[1.02]"},size:{xs:"h-8 px-3 text-label-sm rounded-sm",sm:"h-9 px-3 text-label-lg rounded-md",default:"h-10 px-4 py-2 text-body-sm",lg:"h-11 px-6 text-body-md rounded-lg",xl:"h-12 px-8 text-body-lg rounded-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8 rounded-sm","icon-lg":"h-12 w-12 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,r)=>{let{className:s,variant:n,size:l,asChild:d=!1,children:u,disabled:c,loading:m=!1,...f}=e,h=c||m;return d?a.cloneElement(a.Children.only(u),{className:(0,i.cn)(o({variant:n,size:l,className:s})),ref:r,"aria-disabled":h,...f}):(0,t.jsxs)("button",{className:(0,i.cn)(o({variant:n,size:l,className:s})),ref:r,disabled:h,"aria-disabled":h,...f,children:[m&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u]})});l.displayName="Button"},9820:function(e,r,s){"use strict";s.d(r,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return u},ll:function(){return l}});var t=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-modern transition-all duration-200 hover:shadow-modern-lg",s),...a})});i.displayName="Card";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-2 p-6",s),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h3",{ref:r,className:(0,n.cn)("text-heading-lg font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("p",{ref:r,className:(0,n.cn)("text-body-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",s),...a})});u.displayName="CardContent",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},279:function(e,r,s){"use strict";s.d(r,{I:function(){return i}});var t=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,r)=>{let{className:s,type:a,error:i,errorMessage:o,required:l,...d}=e,u=d.id?"".concat(d.id,"-error"):void 0;return(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-input-bg px-3 py-2 text-body-sm text-foreground ring-offset-background transition-all duration-200 file:border-0 file:bg-transparent file:text-body-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:border-primary hover:border-ring disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted",i&&"border-destructive focus-visible:ring-destructive",s),ref:r,"aria-invalid":i?"true":void 0,"aria-describedby":i&&o?u:void 0,"aria-required":l,...d})});i.displayName="Input"},5060:function(e,r,s){"use strict";s.d(r,{_:function(){return l}});var t=s(7437),a=s(2265),n=s(535),i=s(3448);let o=(0,n.j)("text-label-lg font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground"),l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("label",{ref:r,className:(0,i.cn)(o(),s),...a})});l.displayName="Label"},3675:function(e,r,s){"use strict";s.d(r,{g:function(){return i}});var t=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-input-bg px-3 py-2 text-body-sm text-foreground ring-offset-background transition-all duration-200 placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:border-primary hover:border-ring disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted resize-y",s),ref:r,...a})});i.displayName="Textarea"},1685:function(e,r,s){"use strict";s.d(r,{ProfileSetupForm:function(){return p}});var t=s(7437),a=s(2265),n=s(9376),i=s(8933),o=s(2381),l=s(279),d=s(5060),u=s(9820),c=s(3675),m=s(4413),f=s(3774),h=s(9202);let b=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var g=s(3448);function p(e){let{userEmail:r,userName:s}=e,[p,x]=(0,a.useState)({businessName:s||"",description:"",address:"",website:"",customSlug:""}),[v,y]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),[j,C]=(0,a.useState)(""),k=(0,n.useRouter)(),S=(0,i.e)(),R=e=>{x(r=>({...r,businessName:e}));let r=(0,g.GD)(e);y(r),p.customSlug||x(e=>({...e,customSlug:r}))},I=(e,r)=>{x(s=>({...s,[e]:r})),C("")},z=()=>p.businessName.trim()?p.customSlug.trim()?p.customSlug.length<3?"URL slug must be at least 3 characters":/^[a-z0-9-]+$/.test(p.customSlug)?null:"URL slug can only contain lowercase letters, numbers, and hyphens":"URL slug is required":"Business name is required",Z=async e=>{e.preventDefault();let s=z();if(s){C(s);return}N(!0),C("");try{var t;let{data:{user:e}}=await S.auth.getUser();if(!e){C("Authentication required");return}let{data:s}=await S.from("vendors").select("id").eq("slug",p.customSlug).single();if(s){C("This URL is already taken. Please choose a different one.");return}let{error:a}=await S.from("vendors").insert({user_id:e.id,name:p.businessName,description:p.description||null,email:r,phone:(null===(t=e.user_metadata)||void 0===t?void 0:t.phone)||"",address:p.address||null,website:p.website||null,slug:p.customSlug,status:"active"});if(a){"23505"===a.code?C("This URL is already taken. Please choose a different one."):C(a.message);return}k.push("/dashboard"),k.refresh()}catch(e){C("An unexpected error occurred. Please try again."),console.error("Profile setup error:",e)}finally{N(!1)}};return(0,t.jsxs)(u.Zb,{className:"w-full max-w-2xl mx-auto",children:[(0,t.jsxs)(u.Ol,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(m.Z,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsx)(u.ll,{className:"text-2xl",children:"Complete Your Profile"}),(0,t.jsx)(u.SZ,{children:"Set up your business profile to start showcasing your products"})]}),(0,t.jsxs)(u.aY,{children:[(0,t.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"businessName",children:"Business Name *"}),(0,t.jsx)(l.I,{id:"businessName",placeholder:"Enter your business name",value:p.businessName,onChange:e=>R(e.target.value),required:!0,disabled:w})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"customSlug",children:"Your Custom URL *"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"easybuilder.com/vendors/"}),(0,t.jsx)(l.I,{id:"customSlug",placeholder:"your-business",value:p.customSlug,onChange:e=>I("customSlug",e.target.value.toLowerCase()),required:!0,disabled:w,className:"flex-1"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"This will be your unique URL. Use lowercase letters, numbers, and hyphens only."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"description",children:"Business Description"}),(0,t.jsx)(c.g,{id:"description",placeholder:"Tell customers about your business...",value:p.description,onChange:e=>I("description",e.target.value),disabled:w,rows:3}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"This will be shown on your public catalog page."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d._,{htmlFor:"address",className:"flex items-center space-x-1",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Business Address"})]}),(0,t.jsx)(c.g,{id:"address",placeholder:"Enter your business address",value:p.address,onChange:e=>I("address",e.target.value),disabled:w,rows:2})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d._,{htmlFor:"website",className:"flex items-center space-x-1",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Website (Optional)"})]}),(0,t.jsx)(l.I,{id:"website",type:"url",placeholder:"https://your-website.com",value:p.website,onChange:e=>I("website",e.target.value),disabled:w})]}),j&&(0,t.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md border border-red-200",children:j}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)(o.z,{type:"button",variant:"outline",className:"flex-1",onClick:()=>k.push("/auth/login"),disabled:w,children:"Back"}),(0,t.jsx)(o.z,{type:"submit",className:"flex-1",disabled:w,children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Profile..."]}):"Complete Setup"})]})]}),p.customSlug&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Preview:"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Your catalog will be available at:"," ",(0,t.jsxs)("span",{className:"font-mono text-blue-600",children:["easybuilder.com/vendors/",p.customSlug]})]})]})]})]})}},8933:function(e,r,s){"use strict";s.d(r,{e:function(){return a}});var t=s(338);let a=()=>(0,t.createBrowserClient)("https://ypukukqmhdittcmzollb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwdWt1a3FtaGRpdHRjbXpvbGxiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1OTE2MjMsImV4cCI6MjA3NzE2NzYyM30.B-RhZ1eo_cECaFV0GoUzwnKRszKmXHX-5n7CvXbgjXA");a()},3448:function(e,r,s){"use strict";s.d(r,{GD:function(){return o},T4:function(){return i},a$:function(){return d},cn:function(){return n},oH:function(){return l}});var t=s(1994),a=s(3335);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.m6)((0,t.W)(r))}function i(e){return null==e?"Price on request":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function o(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50)}function l(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function d(e){return/^\+?[\d\s\-\(\)]+$/.test(e)&&e.replace(/\D/g,"").length>=10}}},function(e){e.O(0,[2972,7583,1643,2971,2117,1744],function(){return e(e.s=3913)}),_N_E=e.O()}]);